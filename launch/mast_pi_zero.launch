<?xml version="1.0"?>
<launch>
  <arg name="name" default="pi"/>
<!--
  <group ns="$(arg name)">
    <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch"/>
    <node name="main" pkg="mast_pi_zero" type="main_node"/>
-->
    <node name="raspicam" pkg="raspicam" type="raspicam_node">
      <param name="framerate" value="5"/>
      <param name="quality" value="20"/>
      <param name="width" value="430"/>
      <param name="height" value="270"/>
    </node>
    <node name="start_camera" pkg="rosservice" type="rosservice" args="call --wait camera/start_capture"/>
<!--
    <node name="serial" pkg="mast_pi_zero" type="serial_node" >
      <param name="baudrate" value="1000000" />
      <param name="port" value="/dev/ttyAMA0" />
      <param name="skip" value="4" />
    </node>

	-->
    <node name="motor" pkg="mast_pi_zero" type="serial_motor_node">
		</node>
    <node name="vicon" pkg="mast_pi_zero" type="vicon_node.py" output="screen">
  		<param name="websocket" value="192.168.1.6"/>
			<param name="name" value="$(arg name)"/>
		</node>
    <node name="main" pkg="mast_pi_zero" type="main_node" output="screen"/>
    <node name="move" pkg="mast_pi_zero" type="move_controller_node" 
				output="screen">
			<param name="linear_v" value="0.75"/>
			<param name="angular_v" value="2.5"/>
			<param name="nWaypoints" value="5"/>
			<param name="xWaypoints" value="[0.5,-0.5,0.5,-0.5,0.5]"/>
			<param name="yWaypoints" value="[-0.9,-0.9,-0.9,-0.9,-0.9]"/>
		</node>

<!--
  </group>
-->
</launch>
